

## wxpay

#### 简介
- JavaWeb项目对接微信 __扫码支付__ 的简单封装实现
- 由于微信官方对接说明以及提供的java版demo实在不忍直视，故做此整理，针对微信支付API，提供简单易用的封装
- 需要说明的是，微信支付接口仅对企业公众号开放，个人用户请绕行支付宝~
- 本项目关注点在于开发，对于微信公众号申请、公众号申请对接支付等事情留给商务
- 由于实际项目中只使用了 __扫码支付__ 部分接口，本项目并无对微信支付所有接口进行封装
- 本项目完成了对接接口数据收发工作，二维码解析请自行使用第三方库，实际业务处理请参考自身系统

#### 准备工作

- 你需要商务人员提供如下信息，如果你是商务兼开发，非常nice，括号里给出了稍微详细的说明
    - 微信支付商户号（登录微信商户平台-->账户中心-->商户信息-->基本账户信息-->微信支付商户号）
    - 公众号APPID（在微信公众平台中，应该不难找~）
    - API秘钥（登录微信商户平台-->账户中心-->API安全-->API密钥-->设置API密钥）
    - 证书文件（登录微信商户平台-->账户中心-->API安全-->API证书-->下载证书，包中有一个.p12文件，那就是你需要的）

#### 开始开发

- 打开Const.java，根据上一步你获得的信息，配置调用常量，值得注意的是，你需要准备一个回调的url用于接受支付成功时微信系统通知你，本项目中写了一个简单的servlet供你参考 WXPayReciver.java
- 参照src/test/java/Test.java发起统一下单、关闭订单
    - 实例中没有封装使用沙箱环境发起交易，而使用的真实交易
    - 原因为微信官方文档中没有任何沙箱环境的使用说明，Java的demo中若隐若现有相关操作，但沙箱环境各种不正常报错让人崩溃，无力吐槽~
    - 不要担心，真实交易每次一分钱，且可以退款~
- 类似的可以自己调用其他接口，只需要一个WXPaySender实例即可
- 入下列举WXPaySender中封装好的接口
    - 统一下单
    - 查询订单
    - 关闭订单
    - 申请退款
    - 查询退款
- 具体接口的输入输出参数说明，可以参考WXPaySender类中的注释~~~

#### 遇到问题

- 由于本人技术有限~代码有不足之处敬请提出建议~
- 使用中有任何问题，可以与我联系，目前仅提供QQ：136237600
